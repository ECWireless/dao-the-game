.app-bottom {
  position: relative;
  z-index: 6;
  margin-top: auto;
  padding: 0.58rem 0.7rem max(0.66rem, env(safe-area-inset-bottom));
  display: grid;
  gap: 0.32rem;
  background: linear-gradient(180deg, rgb(255 255 255 / 0%), rgb(246 248 252 / 48%));
}

.app-dock {
  --dock-count: 1;
  border: 1px solid rgb(255 255 255 / 68%);
  border-radius: 1.18rem;
  background:
    linear-gradient(180deg, rgb(255 255 255 / 40%), rgb(242 246 252 / 22%)),
    rgb(255 255 255 / 20%);
  backdrop-filter: blur(26px) saturate(175%);
  -webkit-backdrop-filter: blur(26px) saturate(175%);
  padding: 0.42rem;
  display: grid;
  grid-template-columns: repeat(var(--dock-count), minmax(0, 1fr));
  gap: 0.34rem;
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 64%),
    inset 0 -1px 0 rgb(255 255 255 / 14%),
    0 20px 40px rgb(110 120 138 / 12%);
}

.dock-app {
  border: 1px solid rgb(255 255 255 / 48%);
  background: linear-gradient(160deg, rgb(255 255 255 / 14%), rgb(248 250 255 / 6%));
  color: #4a5970;
  padding: 0.24rem 0.16rem 0.28rem;
  min-height: 4.1rem;
  width: min(100%, 4.2rem);
  justify-self: center;
  display: grid;
  place-items: center;
  gap: 0.3rem;
  position: relative;
  backdrop-filter: blur(16px) saturate(150%);
  -webkit-backdrop-filter: blur(16px) saturate(150%);
  transition:
    transform 140ms ease-out,
    border-color 140ms ease-out,
    background-color 140ms ease-out;
}

.dock-app.is-current {
  border-color: rgb(153 198 255 / 78%);
  background: linear-gradient(160deg, rgb(235 246 255 / 28%), rgb(224 237 255 / 10%));
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 56%),
    0 0 0.52rem rgb(158 204 255 / 34%);
  transform: translateY(-2px);
}

.dock-app.is-pulse {
  animation: dockPulse 260ms ease-out;
}

.dock-icon {
  width: 2.34rem;
  height: 2.34rem;
  border-radius: 0.78rem;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #f8fbff;
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 24%),
    inset 0 -1px 0 rgb(12 18 31 / 14%),
    0 10px 18px rgb(92 104 126 / 20%);
}

.dock-icon::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border: 1px solid rgb(255 255 255 / 20%);
  pointer-events: none;
}

.dock-icon > svg {
  width: 1.28rem;
  height: 1.28rem;
  display: block;
  filter: drop-shadow(0 1px 1px rgb(0 0 0 / 12%));
}

.dock-icon-messages {
  background: linear-gradient(160deg, #69d4ff, #2e89f0 68%, #2363d8);
}

.dock-icon-mail {
  border-radius: 0.72rem 0.92rem 0.72rem 0.92rem;
  background: linear-gradient(160deg, #ffd37b, #ff9e4d 66%, #ff7a3d);
}

.dock-icon-whiteboard {
  border-radius: 0.92rem 0.72rem 0.92rem 0.72rem;
  background: linear-gradient(160deg, #6fe0a7, #2dbf77 64%, #1f9c60);
}

.dock-icon-guild {
  background: linear-gradient(160deg, #ff9bd6, #ea5fb3 62%, #c64595);
}

.dock-icon-machine {
  border-radius: 0.92rem;
  background: linear-gradient(160deg, #98a8ff, #6779ff 62%, #4a57d8);
}

.dock-app.is-current .dock-icon {
  transform: translateY(-1px) scale(1.04);
}

.dock-app.is-installing {
  animation: appInstall 560ms cubic-bezier(0.18, 0.82, 0.28, 1) both;
}

.dock-app.is-installing .dock-icon::before {
  content: '';
  position: absolute;
  inset: 0.06rem;
  border-radius: inherit;
  background: linear-gradient(180deg, rgb(24 33 49 / 52%), rgb(13 19 31 / 68%));
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 8%),
    inset 0 -1px 0 rgb(0 0 0 / 22%);
}

.dock-app.is-installing .dock-icon > svg {
  opacity: 0.34;
  transform: scale(0.88);
}

.dock-install-wheel {
  position: absolute;
  inset: 0.42rem;
  display: grid;
  place-items: center;
  pointer-events: none;
  filter: drop-shadow(0 1px 1px rgb(0 0 0 / 18%));
}

.dock-install-wheel svg {
  width: 100%;
  height: 100%;
  display: block;
  transform: rotate(-90deg);
}

.dock-install-track {
  fill: rgb(20 28 44 / 46%);
  stroke: rgb(255 255 255 / 18%);
  stroke-width: 3;
}

.dock-install-progress {
  fill: none;
  stroke: rgb(255 255 255 / 0.96);
  stroke-width: 3.1;
  stroke-linecap: round;
  stroke-dasharray: 97.4;
  stroke-dashoffset: 97.4;
  animation: installWheel 1725ms cubic-bezier(0.28, 0.76, 0.34, 1) forwards;
}

.dock-label {
  font-size: 0.55rem;
  color: #4d5d76;
  letter-spacing: 0.01em;
  white-space: nowrap;
  font-weight: 700;
  text-shadow: 0 1px 0 rgb(255 255 255 / 24%);
}

.dock-badge {
  position: absolute;
  top: 0.2rem;
  right: 0.26rem;
  width: 0.42rem;
  height: 0.42rem;
  border-radius: 50%;
  background: #67b8ff;
  box-shadow: 0 0 0.32rem rgb(103 184 255 / 56%);
}

.ghost-action {
  border: 1px solid rgb(255 255 255 / 60%);
  background: linear-gradient(160deg, rgb(255 255 255 / 28%), rgb(245 249 255 / 16%));
  color: #55657e;
  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
}

.nav-back:disabled {
  opacity: 0.4;
}

button {
  cursor: pointer;
}

button:focus-visible {
  outline: 2px solid rgb(92 163 242 / 74%);
  outline-offset: 2px;
}
