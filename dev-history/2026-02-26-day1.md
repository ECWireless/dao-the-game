# Day 1 - 2026-02-26

## Decisions Made
- Locked architecture to a single Vite + React + TypeScript app with pure simulation modules in `/src/sim`.
- Implemented deterministic simulation primitives first: `generateStartingAgents(seed)`, `simulateRun(state)`, and `generateArtifacts(input)`.
- Established a strict `ViewMode` contract (`shell` vs `engine`) through selectors so both modes share one data model.
- Kept simulation entirely UI-agnostic with no React imports in simulation files.

## Tradeoffs
- Chose a pseudo CID generator instead of real IPFS hashing to preserve deterministic, offline simulation behavior.
- Added run diagnostics directly into `RunResult` so Engine mode can reveal internals without extra recomputation.
- Used lightweight event modeling (single rolled event + jitter) for Day 1 speed while preserving future extension points.

## System Tweaks
- Seeded RNG utility now supports bounded integers, random picks, and deterministic hash composition.
- Run scoring includes base score, stat influence, role coverage, reliability penalties, event modifiers, and budget penalties.
- Treasury impact is explicit via cost breakdown and runway-after-run diagnostics.
- Pass/fail currently requires both quality threshold and non-negative runway.

## UI Implications for Upcoming Days
- Shell mode can display summary telemetry (`qualityScore`, `cost`, `events`, `status`) without exposing internals.
- Engine mode can reveal seed, CID, variance, and full score/cost breakdowns from the same run payload.
- The data shape is ready for the Day 2 mobile card stepper and Day 3 execution pipeline animation.

## New Ideas Captured
- Add per-role contribution tracing in diagnostics for richer client feedback in Day 5.
- Add event categories (`ops`, `quality`, `budget`) to drive themed animation cues in the run pipeline.
- Add tutorial difficulty presets by adjusting pass threshold and event variance envelopes.

## Verification Notes
- Added deterministic tests for RNG, agent generation, simulate run behavior, and shell/engine visibility.
- Pending: full command verification after dependency install in this environment.
